<!-- Contenedor principal con el estilo oscuro -->
<div class="bg-[#111418] rounded-xl shadow-lg p-8 text-gray-300">

  <!-- Encabezado y botón para expandir/contraer -->
  <div class="flex justify-between items-center border-b border-gray-700 pb-4 mb-4 cursor-pointer"
    (click)="toggleCollapse()">
    <div class="flex items-center">
      <h3 class="text-xl font-semibold text-teal-500">Su nuevo tema de debate</h3>
    </div>
    <span class="text-teal-400 font-medium hover:text-teal-300 transition">
      {{ isCollapsed ? 'Expandir todo' : 'Contraer todo' }}
    </span>
  </div>

  <!-- Contenido del formulario (se muestra si no está colapsado) -->
  <div *ngIf="!isCollapsed">
    <form (ngSubmit)="onSubmit()" class="space-y-5 mt-6">

      <!-- Tipo de post (Radio buttons) -->
      <div>
        <label class="block text-sm font-medium text-gray-300 mb-2">Tipo de post</label>
        <div class="flex">
          <label class="inline-flex items-center mr-6" [class.cursor-not-allowed]="isTypeFixed">
            <input type="radio" name="type" value="offer" [(ngModel)]="postData.type" [disabled]="isTypeFixed"
              class="form-radio bg-[#0b0d0f] border-gray-600 text-teal-500 focus:ring-teal-500">
            <span class="ml-2">Ofrecer ayuda</span>
          </label>
          <label class="inline-flex items-center" [class.cursor-not-allowed]="isTypeFixed">
            <input type="radio" name="type" value="request" [(ngModel)]="postData.type" [disabled]="isTypeFixed"
              class="form-radio bg-[#0b0d0f] border-gray-600 text-teal-500 focus:ring-teal-500">
            <span class="ml-2">Solicitar ayuda</span>
          </label>
        </div>
      </div>

      <!-- Asunto (Input) -->
      <div>
        <div class="flex items-center mb-1">
          <label for="title" class="block text-sm font-medium text-gray-300">Asunto</label>
          <i *ngIf="asuntoInvalido" class="fas fa-exclamation-circle text-red-500 ml-2" title="Asunto es requerido"></i>
        </div>
        <input type="text" id="title" name="title" [(ngModel)]="postData.title" required
          class="w-full px-4 py-2 bg-[#0b0d0f] border border-gray-700 rounded-lg text-gray-100 placeholder-gray-500
                 focus:ring-2 focus:ring-teal-500 focus:border-teal-500 outline-none transition">
      </div>

      <!-- Mensaje (Textarea) -->
      <div>
        <div class="flex items-center mb-1">
          <label for="description" class="block text-sm font-medium text-gray-300">Mensaje</label>
          <i *ngIf="mensajeInvalido" class="fas fa-exclamation-circle text-red-500 ml-2"
            title="Mensaje es requerido"></i>
        </div>
        <textarea id="description" name="description" [(ngModel)]="postData.description" required rows="4"
          class="w-full px-4 py-2 bg-[#0b0d0f] border border-gray-700 rounded-lg text-gray-100 placeholder-gray-500
                 focus:ring-2 focus:ring-teal-500 focus:border-teal-500 outline-none transition"></textarea>
      </div>

      <!-- Categoría (Input) -->
      <div>
        <label for="category" class="block text-sm font-medium text-gray-300 mb-1">Categoría</label>
        <input type="text" id="category" name="category" [(ngModel)]="postData.category"
          class="w-full px-4 py-2 bg-[#0b0d0f] border border-gray-700 rounded-lg text-gray-100 placeholder-gray-500
                 focus:ring-2 focus:ring-teal-500 focus:border-teal-500 outline-none transition">
      </div>

      <!-- Etiquetas (Input) -->
      <div>
        <label for="tags" class="block text-sm font-medium text-gray-300 mb-1">Etiquetas (separadas por comas)</label>
        <input type="text" id="tags" name="tags" [(ngModel)]="tagsInput"
          class="w-full px-4 py-2 bg-[#0b0d0f] border border-gray-700 rounded-lg text-gray-100 placeholder-gray-500
                 focus:ring-2 focus:ring-teal-500 focus:border-teal-500 outline-none transition">
      </div>

      <!-- Botón de envío -->
      <div class="flex justify-center pt-2">
        <button type="submit"
          class="bg-teal-500 hover:bg-teal-400 text-black font-semibold rounded-xl px-6 py-3 transition
                 disabled:opacity-50 disabled:cursor-not-allowed">
          Crear Post
        </button>
      </div>
    </form>
  </div>
</div>
