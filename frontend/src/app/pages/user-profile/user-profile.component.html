<div class="max-w-4xl mx-auto p-4 space-y-6">
  <div class="flex items-center gap-4">
    <img [src]="user?.avatarUrl || '/assets/avatars/a1.png'" class="w-16 h-16 rounded-full border border-white/10" />
    <div>
      <h1 class="text-xl font-semibold text-white">{{ user?.first_name }} {{ user?.last_name }}</h1>
      <app-reputation-bar [value]="user?.reputation || 0"></app-reputation-bar>
    </div>
  </div>

  <div>
    <h2 class="text-white/80 mb-2">Habilidades</h2>
    <div class="flex flex-wrap gap-2">
      <app-skill-chip
        *ngFor="let s of user?.skills"
        [skill]="s"
        [canVerify]="isAdmin"
        (endorse)="onEndorse($event)"
        (verify)="onVerify($event)">
      </app-skill-chip>
    </div>

    <form class="mt-4 flex items-center gap-2" (ngSubmit)="addSkill()">
      <input [(ngModel)]="newSkillName" name="skill" placeholder="Nueva habilidad"
             class="px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-white outline-none">
      <input [(ngModel)]="newSkillLevel" name="level" type="number" min="1" max="5" placeholder="Nivel (1-5)"
             class="w-28 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-white outline-none">
      <button class="px-3 py-2 rounded-xl bg-emerald-600 hover:bg-emerald-700 text-white">Agregar</button>
    </form>
  </div>

  <div>
    <h2 class="text-white/80 mb-2">ReseÃ±as</h2>
    <app-reviews-list [userId]="userId"></app-reviews-list>

    <div class="mt-4 p-4 rounded-xl bg-white/5 border border-white/10">
      <h3 class="text-white/80 mb-2">Dejar una reseÃ±a</h3>
      <app-review-form
        [revieweeId]="userId"
        [reviewerId]="'ME'"
        (created)="rep.createReview({ reviewer: 'ME', reviewee: userId, rating: $event.rating, comment: $event.comment }).subscribe()">
      </app-review-form>
    </div>
  </div>
</div>